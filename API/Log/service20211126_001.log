2021-11-26 14:35:07.005 -03:00 [INF] Starting host
2021-11-26 14:35:07.228 -03:00 [INF] User profile is available. Using 'C:\Users\USUARIO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-26 14:35:07.949 -03:00 [INF] Entity Framework Core 5.0.2 initialized 'UStartContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: MigrationsAssembly=Infrastructure using snake-case naming  (culture=)
2021-11-26 14:35:11.034 -03:00 [INF] Executed DbCommand (183ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2021-11-26 14:35:12.275 -03:00 [INF] Executed DbCommand (180ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2021-11-26 14:35:12.464 -03:00 [INF] Executed DbCommand (173ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT migration_id, product_version
FROM "__EFMigrationsHistory"
ORDER BY migration_id;
2021-11-26 14:35:12.483 -03:00 [INF] No migrations were applied. The database is already up to date.
2021-11-26 14:35:13.787 -03:00 [INF] Executed DbCommand (181ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2021-11-26 14:35:13.967 -03:00 [INF] Executed DbCommand (177ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT migration_id, product_version
FROM "__EFMigrationsHistory"
ORDER BY migration_id;
2021-11-26 14:35:14.287 -03:00 [INF] Executed DbCommand (172ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM usuarios AS u)
2021-11-26 14:35:14.427 -03:00 [FTL] Unable to start Kestrel.
System.IO.IOException: Failed to bind to address https://127.0.0.1:5001: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Normalmente é permitida apenas uma utilização de cada endereço de soquete (protocolo/endereço de rede/porta).
 ---> System.Net.Sockets.SocketException (10048): Normalmente é permitida apenas uma utilização de cada endereço de soquete (protocolo/endereço de rede/porta).
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.<Bind>g__BindSocket|13_0(<>c__DisplayClass13_0& )
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.<Bind>g__BindSocket|13_0(<>c__DisplayClass13_0& )
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass29_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(IEnumerable`1 listenOptions, AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
2021-11-26 14:35:14.459 -03:00 [FTL] Host terminated unexpectedly
System.IO.IOException: Failed to bind to address https://127.0.0.1:5001: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Normalmente é permitida apenas uma utilização de cada endereço de soquete (protocolo/endereço de rede/porta).
 ---> System.Net.Sockets.SocketException (10048): Normalmente é permitida apenas uma utilização de cada endereço de soquete (protocolo/endereço de rede/porta).
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.<Bind>g__BindSocket|13_0(<>c__DisplayClass13_0& )
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.<Bind>g__BindSocket|13_0(<>c__DisplayClass13_0& )
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass29_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(IEnumerable`1 listenOptions, AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.Run(IHost host)
   at UStart.API.Program.Main(String[] args) in C:\Users\USUARIO\Documents\ustart-api-final\API\Program.cs:line 40
2021-11-26 14:47:48.596 -03:00 [INF] Starting host
2021-11-26 14:47:52.287 -03:00 [INF] User profile is available. Using 'C:\Users\USUARIO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-26 14:47:55.091 -03:00 [INF] Entity Framework Core 5.0.2 initialized 'UStartContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: MigrationsAssembly=Infrastructure using snake-case naming  (culture=)
2021-11-26 14:47:58.958 -03:00 [INF] Executed DbCommand (189ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2021-11-26 14:48:00.394 -03:00 [INF] Executed DbCommand (179ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2021-11-26 14:48:00.593 -03:00 [INF] Executed DbCommand (175ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT migration_id, product_version
FROM "__EFMigrationsHistory"
ORDER BY migration_id;
2021-11-26 14:48:00.625 -03:00 [INF] No migrations were applied. The database is already up to date.
2021-11-26 14:48:01.853 -03:00 [INF] Executed DbCommand (181ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2021-11-26 14:48:03.272 -03:00 [INF] Executed DbCommand (171ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT migration_id, product_version
FROM "__EFMigrationsHistory"
ORDER BY migration_id;
2021-11-26 14:48:03.927 -03:00 [INF] Executed DbCommand (170ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM usuarios AS u)
2021-11-26 14:48:04.421 -03:00 [INF] Now listening on: https://localhost:5001
2021-11-26 14:48:05.133 -03:00 [INF] Now listening on: http://localhost:5000
2021-11-26 14:48:05.186 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-26 14:48:05.191 -03:00 [INF] Hosting environment: Development
2021-11-26 14:48:05.201 -03:00 [INF] Content root path: C:\Users\USUARIO\Documents\ustart-api-final\API
2021-11-26 14:49:48.435 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/v1/autenticacao/login - -
2021-11-26 14:49:49.236 -03:00 [INF] CORS policy execution successful.
2021-11-26 14:49:49.254 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/v1/autenticacao/login - - - 204 - - 823.5658ms
2021-11-26 14:49:49.832 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/v1/autenticacao/login application/json 46
2021-11-26 14:49:50.394 -03:00 [INF] CORS policy execution successful.
2021-11-26 14:49:51.658 -03:00 [INF] Executing endpoint 'UStart.API.Controllers.AutenticacaoController.Login (API)'
2021-11-26 14:49:53.998 -03:00 [INF] Route matched with {action = "Login", controller = "Autenticacao"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(UStart.Domain.Commands.LoginCommand) on controller UStart.API.Controllers.AutenticacaoController (API).
2021-11-26 14:49:55.271 -03:00 [INF] Executed action UStart.API.Controllers.AutenticacaoController.Login (API) in 57.8084ms
2021-11-26 14:49:55.564 -03:00 [INF] Executed endpoint 'UStart.API.Controllers.AutenticacaoController.Login (API)'
2021-11-26 14:49:56.119 -03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Unexpected end of request content.
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelBadHttpRequestException.Throw(RequestRejectionReason reason)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1ContentLengthMessageBody.ReadAsyncInternal(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpRequestStream.ReadAsyncInternal(Memory`1 destination, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.ReadAsync[TValue](Stream utf8Json, Type returnType, JsonSerializerOptions options, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter.ReadRequestBodyAsync(InputFormatterContext context, Encoding encoding)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter.ReadRequestBodyAsync(InputFormatterContext context, Encoding encoding)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder.BindModelAsync(ModelBindingContext bindingContext)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.BindModelAsync(ActionContext actionContext, IModelBinder modelBinder, IValueProvider valueProvider, ParameterDescriptor parameter, ModelMetadata metadata, Object value, Object container)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.<>c__DisplayClass0_0.<<CreateBinderDelegate>g__Bind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2021-11-26 14:49:57.233 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/v1/autenticacao/login application/json 46 - 0 - - 7400.4920ms
2021-11-26 14:51:12.129 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/v1/autenticacao/login - -
2021-11-26 14:51:12.132 -03:00 [INF] CORS policy execution successful.
2021-11-26 14:51:12.134 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/v1/autenticacao/login - - - 204 - - 5.3644ms
2021-11-26 14:51:12.149 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/v1/autenticacao/login application/json 46
2021-11-26 14:51:12.159 -03:00 [INF] CORS policy execution successful.
2021-11-26 14:51:12.165 -03:00 [INF] Executing endpoint 'UStart.API.Controllers.AutenticacaoController.Login (API)'
2021-11-26 14:51:12.167 -03:00 [INF] Route matched with {action = "Login", controller = "Autenticacao"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(UStart.Domain.Commands.LoginCommand) on controller UStart.API.Controllers.AutenticacaoController (API).
2021-11-26 14:51:12.182 -03:00 [INF] Entity Framework Core 5.0.2 initialized 'UStartContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: MigrationsAssembly=Infrastructure using snake-case naming  (culture=)
2021-11-26 14:51:12.433 -03:00 [INF] Executed DbCommand (182ms) [Parameters=[@__hashMd5_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.ativo, u.autenticacao, u.data_registro, u.email, u.nome
FROM usuarios AS u
WHERE (u.autenticacao = @__hashMd5_0) AND u.ativo
LIMIT 1
2021-11-26 14:51:12.608 -03:00 [INF] Executing OkObjectResult, writing value of type 'UStart.Domain.Results.LoginResult'.
2021-11-26 14:51:12.626 -03:00 [INF] Executed action UStart.API.Controllers.AutenticacaoController.Login (API) in 456.5726ms
2021-11-26 14:51:12.628 -03:00 [INF] Executed endpoint 'UStart.API.Controllers.AutenticacaoController.Login (API)'
2021-11-26 14:51:12.635 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/v1/autenticacao/login application/json 46 - 200 - application/json;+charset=utf-8 486.0971ms
2021-11-26 14:51:25.025 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/v1/cliente/?pesquisa= - -
2021-11-26 14:51:25.027 -03:00 [INF] CORS policy execution successful.
2021-11-26 14:51:25.028 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/v1/cliente/?pesquisa= - - - 204 - - 2.6778ms
2021-11-26 14:51:25.032 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/v1/cliente/?pesquisa= - -
2021-11-26 14:51:25.034 -03:00 [INF] CORS policy execution successful.
2021-11-26 14:51:25.114 -03:00 [INF] Successfully validated the token.
2021-11-26 14:51:25.120 -03:00 [INF] Authorization was successful.
2021-11-26 14:51:25.122 -03:00 [INF] Executing endpoint 'UStart.API.Controllers.ClienteController.Get (API)'
2021-11-26 14:51:25.125 -03:00 [INF] Route matched with {action = "Get", controller = "Cliente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get() on controller UStart.API.Controllers.ClienteController (API).
2021-11-26 14:51:25.165 -03:00 [INF] Entity Framework Core 5.0.2 initialized 'UStartContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: MigrationsAssembly=Infrastructure using snake-case naming  (culture=)
2021-11-26 14:51:25.357 -03:00 [INF] Executed DbCommand (183ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.ativo, c.bairro, c.cep, c.cnpj, c.cpf, c.cidade_id, c.cidade_nome, c.codigo_externo, c.complemento, c.email, c.estado_id, c.fone, c.limite_de_credito, c.nome, c.numero, c.razao_social, c.rua
FROM clientes AS c
2021-11-26 14:51:25.400 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[UStart.Domain.Entities.Cliente, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-26 14:51:25.417 -03:00 [INF] Executed action UStart.API.Controllers.ClienteController.Get (API) in 288.8716ms
2021-11-26 14:51:25.420 -03:00 [INF] Executed endpoint 'UStart.API.Controllers.ClienteController.Get (API)'
2021-11-26 14:51:25.423 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/v1/cliente/?pesquisa= - - - 200 - application/json;+charset=utf-8 391.2119ms
2021-11-26 14:51:31.715 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/v1/grupo-produto/?pesquisa= - -
2021-11-26 14:51:31.718 -03:00 [INF] CORS policy execution successful.
2021-11-26 14:51:31.719 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/v1/grupo-produto/?pesquisa= - - - 204 - - 3.8964ms
2021-11-26 14:51:31.728 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/v1/grupo-produto/?pesquisa= - -
2021-11-26 14:51:31.730 -03:00 [INF] CORS policy execution successful.
2021-11-26 14:51:31.732 -03:00 [INF] Successfully validated the token.
2021-11-26 14:51:31.734 -03:00 [INF] Authorization was successful.
2021-11-26 14:51:31.735 -03:00 [INF] Executing endpoint 'UStart.API.Controllers.GrupoProdutoController.GetGruposProdutos (API)'
2021-11-26 14:51:31.742 -03:00 [INF] Route matched with {action = "GetGruposProdutos", controller = "GrupoProduto"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetGruposProdutos(System.String) on controller UStart.API.Controllers.GrupoProdutoController (API).
2021-11-26 14:51:31.748 -03:00 [INF] Entity Framework Core 5.0.2 initialized 'UStartContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: MigrationsAssembly=Infrastructure using snake-case naming  (culture=)
2021-11-26 14:51:31.962 -03:00 [INF] Executed DbCommand (178ms) [Parameters=[@__pesquisa_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT g.id, g.codigo_externo, g.descricao
FROM grupo_produtos AS g
WHERE (@__pesquisa_0 = '') OR (strpos(lower(g.descricao), @__pesquisa_0) > 0)
2021-11-26 14:51:31.977 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[UStart.Domain.Entities.GrupoProduto, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-26 14:51:31.981 -03:00 [INF] Executed action UStart.API.Controllers.GrupoProdutoController.GetGruposProdutos (API) in 236.0253ms
2021-11-26 14:51:31.983 -03:00 [INF] Executed endpoint 'UStart.API.Controllers.GrupoProdutoController.GetGruposProdutos (API)'
2021-11-26 14:51:31.985 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/v1/grupo-produto/?pesquisa= - - - 200 - application/json;+charset=utf-8 256.1708ms
2021-11-26 14:51:33.851 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/v1/grupo-produto/?pesquisa= - -
2021-11-26 14:51:33.856 -03:00 [INF] CORS policy execution successful.
2021-11-26 14:51:33.857 -03:00 [INF] Successfully validated the token.
2021-11-26 14:51:33.859 -03:00 [INF] Authorization was successful.
2021-11-26 14:51:33.860 -03:00 [INF] Executing endpoint 'UStart.API.Controllers.GrupoProdutoController.GetGruposProdutos (API)'
2021-11-26 14:51:33.862 -03:00 [INF] Route matched with {action = "GetGruposProdutos", controller = "GrupoProduto"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetGruposProdutos(System.String) on controller UStart.API.Controllers.GrupoProdutoController (API).
2021-11-26 14:51:33.869 -03:00 [INF] Entity Framework Core 5.0.2 initialized 'UStartContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: MigrationsAssembly=Infrastructure using snake-case naming  (culture=)
2021-11-26 14:51:34.059 -03:00 [INF] Executed DbCommand (178ms) [Parameters=[@__pesquisa_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT g.id, g.codigo_externo, g.descricao
FROM grupo_produtos AS g
WHERE (@__pesquisa_0 = '') OR (strpos(lower(g.descricao), @__pesquisa_0) > 0)
2021-11-26 14:51:34.062 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[UStart.Domain.Entities.GrupoProduto, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-26 14:51:34.064 -03:00 [INF] Executed action UStart.API.Controllers.GrupoProdutoController.GetGruposProdutos (API) in 195.6952ms
2021-11-26 14:51:34.066 -03:00 [INF] Executed endpoint 'UStart.API.Controllers.GrupoProdutoController.GetGruposProdutos (API)'
2021-11-26 14:51:34.067 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/v1/grupo-produto/?pesquisa= - - - 200 - application/json;+charset=utf-8 216.1627ms
2021-11-26 14:51:40.283 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/v1/forma-pagamento/?pesquisa= - -
2021-11-26 14:51:40.286 -03:00 [INF] CORS policy execution successful.
2021-11-26 14:51:40.287 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/v1/forma-pagamento/?pesquisa= - - - 204 - - 3.4972ms
2021-11-26 14:51:40.291 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/v1/forma-pagamento/?pesquisa= - -
2021-11-26 14:51:40.293 -03:00 [INF] CORS policy execution successful.
2021-11-26 14:51:40.294 -03:00 [INF] Successfully validated the token.
2021-11-26 14:51:40.296 -03:00 [INF] Authorization was successful.
2021-11-26 14:51:40.298 -03:00 [INF] Executing endpoint 'UStart.API.Controllers.FormaPagamentoController.GetPesquisar (API)'
2021-11-26 14:51:40.302 -03:00 [INF] Route matched with {action = "GetPesquisar", controller = "FormaPagamento"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetPesquisar(System.String) on controller UStart.API.Controllers.FormaPagamentoController (API).
2021-11-26 14:51:40.308 -03:00 [INF] Entity Framework Core 5.0.2 initialized 'UStartContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: MigrationsAssembly=Infrastructure using snake-case naming  (culture=)
2021-11-26 14:51:40.496 -03:00 [INF] Executed DbCommand (180ms) [Parameters=[@__pesquisa_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT f.id, f.codigo_externo, f.desconto, f.descricao, f.dias
FROM formas_pagamentos AS f
WHERE (@__pesquisa_0 = '') OR (strpos(lower(f.descricao), @__pesquisa_0) > 0)
2021-11-26 14:51:40.526 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[UStart.Domain.Entities.FormaPagamento, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-26 14:51:40.531 -03:00 [INF] Executed action UStart.API.Controllers.FormaPagamentoController.GetPesquisar (API) in 226.6842ms
2021-11-26 14:51:40.533 -03:00 [INF] Executed endpoint 'UStart.API.Controllers.FormaPagamentoController.GetPesquisar (API)'
2021-11-26 14:51:40.534 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/v1/forma-pagamento/?pesquisa= - - - 200 - application/json;+charset=utf-8 243.3079ms
2021-11-26 14:51:42.791 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/v1/forma-pagamento/?pesquisa= - -
2021-11-26 14:51:42.794 -03:00 [INF] CORS policy execution successful.
2021-11-26 14:51:42.805 -03:00 [INF] Successfully validated the token.
2021-11-26 14:51:42.809 -03:00 [INF] Authorization was successful.
2021-11-26 14:51:42.810 -03:00 [INF] Executing endpoint 'UStart.API.Controllers.FormaPagamentoController.GetPesquisar (API)'
2021-11-26 14:51:42.811 -03:00 [INF] Route matched with {action = "GetPesquisar", controller = "FormaPagamento"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetPesquisar(System.String) on controller UStart.API.Controllers.FormaPagamentoController (API).
2021-11-26 14:51:42.820 -03:00 [INF] Entity Framework Core 5.0.2 initialized 'UStartContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: MigrationsAssembly=Infrastructure using snake-case naming  (culture=)
2021-11-26 14:51:43.004 -03:00 [INF] Executed DbCommand (179ms) [Parameters=[@__pesquisa_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT f.id, f.codigo_externo, f.desconto, f.descricao, f.dias
FROM formas_pagamentos AS f
WHERE (@__pesquisa_0 = '') OR (strpos(lower(f.descricao), @__pesquisa_0) > 0)
2021-11-26 14:51:43.009 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[UStart.Domain.Entities.FormaPagamento, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-26 14:51:43.010 -03:00 [INF] Executed action UStart.API.Controllers.FormaPagamentoController.GetPesquisar (API) in 191.6449ms
2021-11-26 14:51:43.012 -03:00 [INF] Executed endpoint 'UStart.API.Controllers.FormaPagamentoController.GetPesquisar (API)'
2021-11-26 14:51:43.014 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/v1/forma-pagamento/?pesquisa= - - - 200 - application/json;+charset=utf-8 222.9961ms
2021-11-26 14:51:46.360 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/v1/produto/?pesquisa= - -
2021-11-26 14:51:46.362 -03:00 [INF] CORS policy execution successful.
2021-11-26 14:51:46.363 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/v1/produto/?pesquisa= - - - 204 - - 3.2435ms
2021-11-26 14:51:46.367 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/v1/produto/?pesquisa= - -
2021-11-26 14:51:46.368 -03:00 [INF] CORS policy execution successful.
2021-11-26 14:51:46.370 -03:00 [INF] Successfully validated the token.
2021-11-26 14:51:46.373 -03:00 [INF] Authorization was successful.
2021-11-26 14:51:46.375 -03:00 [INF] Executing endpoint 'UStart.API.Controllers.ProdutoController.Get (API)'
2021-11-26 14:51:46.378 -03:00 [INF] Route matched with {action = "Get", controller = "Produto"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get() on controller UStart.API.Controllers.ProdutoController (API).
2021-11-26 14:51:46.384 -03:00 [INF] Entity Framework Core 5.0.2 initialized 'UStartContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: MigrationsAssembly=Infrastructure using snake-case naming  (culture=)
2021-11-26 14:51:46.605 -03:00 [INF] Executed DbCommand (181ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.codigo_externo, p.descricao, p.grupo_produto_id, p.nome, p.preco, p.url_imagem, g.id, g.codigo_externo, g.descricao
FROM produtos AS p
INNER JOIN grupo_produtos AS g ON p.grupo_produto_id = g.id
2021-11-26 14:51:46.634 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[UStart.Domain.Entities.Produto, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-26 14:51:46.639 -03:00 [INF] Executed action UStart.API.Controllers.ProdutoController.Get (API) in 258.1472ms
2021-11-26 14:51:46.641 -03:00 [INF] Executed endpoint 'UStart.API.Controllers.ProdutoController.Get (API)'
2021-11-26 14:51:46.642 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/v1/produto/?pesquisa= - - - 200 - application/json;+charset=utf-8 275.1834ms
2021-11-26 14:51:50.380 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/v1/grupo-produto/?pesquisa= - -
2021-11-26 14:51:50.382 -03:00 [INF] CORS policy execution successful.
2021-11-26 14:51:50.384 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/v1/grupo-produto/?pesquisa= - - - 204 - - 4.0150ms
2021-11-26 14:51:50.387 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/v1/grupo-produto/?pesquisa= - -
2021-11-26 14:51:50.390 -03:00 [INF] CORS policy execution successful.
2021-11-26 14:51:50.391 -03:00 [INF] Successfully validated the token.
2021-11-26 14:51:50.393 -03:00 [INF] Authorization was successful.
2021-11-26 14:51:50.393 -03:00 [INF] Executing endpoint 'UStart.API.Controllers.GrupoProdutoController.GetGruposProdutos (API)'
2021-11-26 14:51:50.395 -03:00 [INF] Route matched with {action = "GetGruposProdutos", controller = "GrupoProduto"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetGruposProdutos(System.String) on controller UStart.API.Controllers.GrupoProdutoController (API).
2021-11-26 14:51:50.401 -03:00 [INF] Entity Framework Core 5.0.2 initialized 'UStartContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: MigrationsAssembly=Infrastructure using snake-case naming  (culture=)
2021-11-26 14:51:50.581 -03:00 [INF] Executed DbCommand (177ms) [Parameters=[@__pesquisa_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT g.id, g.codigo_externo, g.descricao
FROM grupo_produtos AS g
WHERE (@__pesquisa_0 = '') OR (strpos(lower(g.descricao), @__pesquisa_0) > 0)
2021-11-26 14:51:50.585 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[UStart.Domain.Entities.GrupoProduto, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-26 14:51:50.587 -03:00 [INF] Executed action UStart.API.Controllers.GrupoProdutoController.GetGruposProdutos (API) in 188.6753ms
2021-11-26 14:51:50.589 -03:00 [INF] Executed endpoint 'UStart.API.Controllers.GrupoProdutoController.GetGruposProdutos (API)'
2021-11-26 14:51:50.591 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/v1/grupo-produto/?pesquisa= - - - 200 - application/json;+charset=utf-8 203.3656ms
2021-11-26 14:51:56.954 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/v1/orcamento/?pesquisa= - -
2021-11-26 14:51:56.957 -03:00 [INF] CORS policy execution successful.
2021-11-26 14:51:56.961 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/v1/orcamento/?pesquisa= - - - 204 - - 6.6520ms
2021-11-26 14:51:56.965 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/v1/orcamento/?pesquisa= - -
2021-11-26 14:51:56.966 -03:00 [INF] CORS policy execution successful.
2021-11-26 14:51:56.967 -03:00 [INF] Successfully validated the token.
2021-11-26 14:51:56.968 -03:00 [INF] Authorization was successful.
2021-11-26 14:51:56.969 -03:00 [INF] Executing endpoint 'UStart.API.Controllers.OrcamentoController.Get (API)'
2021-11-26 14:51:56.973 -03:00 [INF] Route matched with {action = "Get", controller = "Orcamento"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(System.String) on controller UStart.API.Controllers.OrcamentoController (API).
2021-11-26 14:51:56.980 -03:00 [INF] Entity Framework Core 5.0.2 initialized 'UStartContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: MigrationsAssembly=Infrastructure using snake-case naming  (culture=)
2021-11-26 14:51:57.179 -03:00 [INF] Executed DbCommand (178ms) [Parameters=[@__pesquisa_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT o.id, o.cliente_id, o.data_orcamento, o.forma_pagamento_id, o.observacao, o.quantidade_de_itens, o.total_desconto, o.total_itens, o.total_produtos, o.usuario_id, c.id, c.ativo, c.bairro, c.cep, c.cnpj, c.cpf, c.cidade_id, c.cidade_nome, c.codigo_externo, c.complemento, c.email, c.estado_id, c.fone, c.limite_de_credito, c.nome, c.numero, c.razao_social, c.rua, f.id, f.codigo_externo, f.desconto, f.descricao, f.dias
FROM orcamentos AS o
INNER JOIN clientes AS c ON o.cliente_id = c.id
INNER JOIN formas_pagamentos AS f ON o.forma_pagamento_id = f.id
WHERE (@__pesquisa_0 = '') OR (strpos(lower(c.nome), @__pesquisa_0) > 0)
2021-11-26 14:51:57.202 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[UStart.Domain.Results.OrcamentoResult, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-26 14:51:57.214 -03:00 [INF] Executed action UStart.API.Controllers.OrcamentoController.Get (API) in 237.8728ms
2021-11-26 14:51:57.216 -03:00 [INF] Executed endpoint 'UStart.API.Controllers.OrcamentoController.Get (API)'
2021-11-26 14:51:57.218 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/v1/orcamento/?pesquisa= - - - 200 - application/json;+charset=utf-8 253.0358ms
2021-11-26 14:51:59.509 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/v1/cliente/?pesquisa= - -
2021-11-26 14:51:59.510 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/v1/forma-pagamento/?pesquisa= - -
2021-11-26 14:51:59.513 -03:00 [INF] CORS policy execution successful.
2021-11-26 14:51:59.514 -03:00 [INF] CORS policy execution successful.
2021-11-26 14:51:59.515 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/v1/forma-pagamento/?pesquisa= - - - 204 - - 4.5731ms
2021-11-26 14:51:59.522 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/v1/cliente/?pesquisa= - - - 204 - - 12.7697ms
2021-11-26 14:51:59.525 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/v1/forma-pagamento/?pesquisa= - -
2021-11-26 14:51:59.526 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/v1/cliente/?pesquisa= - -
2021-11-26 14:51:59.529 -03:00 [INF] CORS policy execution successful.
2021-11-26 14:51:59.531 -03:00 [INF] CORS policy execution successful.
2021-11-26 14:51:59.533 -03:00 [INF] Successfully validated the token.
2021-11-26 14:51:59.533 -03:00 [INF] Successfully validated the token.
2021-11-26 14:51:59.536 -03:00 [INF] Authorization was successful.
2021-11-26 14:51:59.537 -03:00 [INF] Authorization was successful.
2021-11-26 14:51:59.537 -03:00 [INF] Executing endpoint 'UStart.API.Controllers.ClienteController.Get (API)'
2021-11-26 14:51:59.539 -03:00 [INF] Executing endpoint 'UStart.API.Controllers.FormaPagamentoController.GetPesquisar (API)'
2021-11-26 14:51:59.541 -03:00 [INF] Route matched with {action = "Get", controller = "Cliente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get() on controller UStart.API.Controllers.ClienteController (API).
2021-11-26 14:51:59.542 -03:00 [INF] Route matched with {action = "GetPesquisar", controller = "FormaPagamento"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetPesquisar(System.String) on controller UStart.API.Controllers.FormaPagamentoController (API).
2021-11-26 14:51:59.546 -03:00 [INF] Entity Framework Core 5.0.2 initialized 'UStartContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: MigrationsAssembly=Infrastructure using snake-case naming  (culture=)
2021-11-26 14:51:59.550 -03:00 [INF] Entity Framework Core 5.0.2 initialized 'UStartContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: MigrationsAssembly=Infrastructure using snake-case naming  (culture=)
2021-11-26 14:51:59.740 -03:00 [INF] Executed DbCommand (188ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.ativo, c.bairro, c.cep, c.cnpj, c.cpf, c.cidade_id, c.cidade_nome, c.codigo_externo, c.complemento, c.email, c.estado_id, c.fone, c.limite_de_credito, c.nome, c.numero, c.razao_social, c.rua
FROM clientes AS c
2021-11-26 14:51:59.743 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[UStart.Domain.Entities.Cliente, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-26 14:51:59.745 -03:00 [INF] Executed action UStart.API.Controllers.ClienteController.Get (API) in 199.5321ms
2021-11-26 14:51:59.747 -03:00 [INF] Executed endpoint 'UStart.API.Controllers.ClienteController.Get (API)'
2021-11-26 14:51:59.748 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/v1/cliente/?pesquisa= - - - 200 - application/json;+charset=utf-8 222.0717ms
2021-11-26 14:52:00.828 -03:00 [INF] Executed DbCommand (177ms) [Parameters=[@__pesquisa_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT f.id, f.codigo_externo, f.desconto, f.descricao, f.dias
FROM formas_pagamentos AS f
WHERE (@__pesquisa_0 = '') OR (strpos(lower(f.descricao), @__pesquisa_0) > 0)
2021-11-26 14:52:00.831 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[UStart.Domain.Entities.FormaPagamento, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-26 14:52:00.832 -03:00 [INF] Executed action UStart.API.Controllers.FormaPagamentoController.GetPesquisar (API) in 1283.8492ms
2021-11-26 14:52:00.834 -03:00 [INF] Executed endpoint 'UStart.API.Controllers.FormaPagamentoController.GetPesquisar (API)'
2021-11-26 14:52:00.836 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/v1/forma-pagamento/?pesquisa= - - - 200 - application/json;+charset=utf-8 1310.6869ms
2021-11-26 14:52:03.980 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/v1/orcamento/?pesquisa= - -
2021-11-26 14:52:03.981 -03:00 [INF] CORS policy execution successful.
2021-11-26 14:52:03.982 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/v1/orcamento/?pesquisa= - - - 204 - - 2.7785ms
2021-11-26 14:52:03.985 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/v1/orcamento/?pesquisa= - -
2021-11-26 14:52:03.987 -03:00 [INF] CORS policy execution successful.
2021-11-26 14:52:03.988 -03:00 [INF] Successfully validated the token.
2021-11-26 14:52:03.991 -03:00 [INF] Authorization was successful.
2021-11-26 14:52:03.992 -03:00 [INF] Executing endpoint 'UStart.API.Controllers.OrcamentoController.Get (API)'
2021-11-26 14:52:03.994 -03:00 [INF] Route matched with {action = "Get", controller = "Orcamento"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(System.String) on controller UStart.API.Controllers.OrcamentoController (API).
2021-11-26 14:52:03.999 -03:00 [INF] Entity Framework Core 5.0.2 initialized 'UStartContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: MigrationsAssembly=Infrastructure using snake-case naming  (culture=)
2021-11-26 14:52:04.181 -03:00 [INF] Executed DbCommand (180ms) [Parameters=[@__pesquisa_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT o.id, o.cliente_id, o.data_orcamento, o.forma_pagamento_id, o.observacao, o.quantidade_de_itens, o.total_desconto, o.total_itens, o.total_produtos, o.usuario_id, c.id, c.ativo, c.bairro, c.cep, c.cnpj, c.cpf, c.cidade_id, c.cidade_nome, c.codigo_externo, c.complemento, c.email, c.estado_id, c.fone, c.limite_de_credito, c.nome, c.numero, c.razao_social, c.rua, f.id, f.codigo_externo, f.desconto, f.descricao, f.dias
FROM orcamentos AS o
INNER JOIN clientes AS c ON o.cliente_id = c.id
INNER JOIN formas_pagamentos AS f ON o.forma_pagamento_id = f.id
WHERE (@__pesquisa_0 = '') OR (strpos(lower(c.nome), @__pesquisa_0) > 0)
2021-11-26 14:52:04.186 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[UStart.Domain.Results.OrcamentoResult, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-26 14:52:04.188 -03:00 [INF] Executed action UStart.API.Controllers.OrcamentoController.Get (API) in 189.7083ms
2021-11-26 14:52:04.190 -03:00 [INF] Executed endpoint 'UStart.API.Controllers.OrcamentoController.Get (API)'
2021-11-26 14:52:04.191 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/v1/orcamento/?pesquisa= - - - 200 - application/json;+charset=utf-8 205.8658ms
2021-11-26 14:52:13.915 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/v1/usuario/?pesquisa= - -
2021-11-26 14:52:13.922 -03:00 [INF] CORS policy execution successful.
2021-11-26 14:52:13.924 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/v1/usuario/?pesquisa= - - - 204 - - 9.3905ms
2021-11-26 14:52:13.934 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/v1/usuario/?pesquisa= - -
2021-11-26 14:52:13.936 -03:00 [INF] CORS policy execution successful.
2021-11-26 14:52:13.937 -03:00 [INF] Successfully validated the token.
2021-11-26 14:52:13.940 -03:00 [INF] Authorization was successful.
2021-11-26 14:52:13.941 -03:00 [INF] Executing endpoint 'UStart.API.Controllers.UsuarioController.Pesquisar (API)'
2021-11-26 14:52:13.944 -03:00 [INF] Route matched with {action = "Pesquisar", controller = "Usuario"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Pesquisar(System.String) on controller UStart.API.Controllers.UsuarioController (API).
2021-11-26 14:52:13.952 -03:00 [INF] Entity Framework Core 5.0.2 initialized 'UStartContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: MigrationsAssembly=Infrastructure using snake-case naming  (culture=)
2021-11-26 14:52:14.138 -03:00 [INF] Executed DbCommand (176ms) [Parameters=[@__pesquisa_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.ativo, u.autenticacao, u.data_registro, u.email, u.nome
FROM usuarios AS u
WHERE ((@__pesquisa_0 = '') OR (strpos(lower(u.email), @__pesquisa_0) > 0)) OR ((@__pesquisa_0 = '') OR (strpos(u.nome, @__pesquisa_0) > 0))
2021-11-26 14:52:14.143 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[UStart.Domain.Results.UsuarioResult, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-26 14:52:14.144 -03:00 [INF] Executed action UStart.API.Controllers.UsuarioController.Pesquisar (API) in 197.7759ms
2021-11-26 14:52:14.146 -03:00 [INF] Executed endpoint 'UStart.API.Controllers.UsuarioController.Pesquisar (API)'
2021-11-26 14:52:14.148 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/v1/usuario/?pesquisa= - - - 200 - application/json;+charset=utf-8 213.0859ms
2021-11-26 14:55:10.902 -03:00 [INF] Application is shutting down...
2021-11-26 18:16:54.129 -03:00 [INF] Starting host
2021-11-26 18:16:55.204 -03:00 [INF] User profile is available. Using 'C:\Users\USUARIO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-26 18:16:57.009 -03:00 [INF] Entity Framework Core 5.0.2 initialized 'UStartContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: MigrationsAssembly=Infrastructure using snake-case naming  (culture=)
2021-11-26 18:17:00.653 -03:00 [INF] Executed DbCommand (187ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2021-11-26 18:17:01.936 -03:00 [INF] Executed DbCommand (177ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2021-11-26 18:17:02.132 -03:00 [INF] Executed DbCommand (168ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT migration_id, product_version
FROM "__EFMigrationsHistory"
ORDER BY migration_id;
2021-11-26 18:17:02.171 -03:00 [INF] No migrations were applied. The database is already up to date.
2021-11-26 18:17:03.547 -03:00 [INF] Executed DbCommand (180ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2021-11-26 18:17:03.722 -03:00 [INF] Executed DbCommand (171ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT migration_id, product_version
FROM "__EFMigrationsHistory"
ORDER BY migration_id;
2021-11-26 18:17:04.130 -03:00 [INF] Executed DbCommand (167ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM usuarios AS u)
2021-11-26 18:17:04.360 -03:00 [INF] Now listening on: https://localhost:5001
2021-11-26 18:17:04.366 -03:00 [INF] Now listening on: http://localhost:5000
2021-11-26 18:17:04.372 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-26 18:17:04.376 -03:00 [INF] Hosting environment: Development
2021-11-26 18:17:04.380 -03:00 [INF] Content root path: C:\Users\USUARIO\Documents\ustart-api-final\API
2021-11-26 18:17:07.843 -03:00 [INF] Application is shutting down...
2021-11-26 18:19:35.059 -03:00 [INF] Starting host
2021-11-26 18:19:35.452 -03:00 [INF] User profile is available. Using 'C:\Users\USUARIO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-26 18:19:36.529 -03:00 [INF] Entity Framework Core 5.0.2 initialized 'UStartContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: MigrationsAssembly=Infrastructure using snake-case naming  (culture=)
2021-11-26 18:19:39.479 -03:00 [INF] Executed DbCommand (179ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2021-11-26 18:19:40.726 -03:00 [INF] Executed DbCommand (174ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2021-11-26 18:19:40.911 -03:00 [INF] Executed DbCommand (171ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT migration_id, product_version
FROM "__EFMigrationsHistory"
ORDER BY migration_id;
2021-11-26 18:19:40.930 -03:00 [INF] Applying migration '20210914002100_grupos_produtos'.
2021-11-26 18:19:41.142 -03:00 [ERR] Failed executing DbCommand (174ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE grupo_produtos (
    id uuid NOT NULL,
    descricao text NULL,
    codigo_externo text NULL,
    CONSTRAINT pk_grupo_produtos PRIMARY KEY (id)
);
2021-11-26 18:19:41.320 -03:00 [FTL] Application startup exception
Npgsql.PostgresException (0x80004005): 42P07: relation "grupo_produtos" already exists
   at Npgsql.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|194_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQuery(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Migrations.MigrationCommand.ExecuteNonQuery(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQuery(IEnumerable`1 migrationCommands, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.Migrate(String targetMigration)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.Migrate(DatabaseFacade databaseFacade)
   at UStart.API.Startup.InitializeDatabase(IApplicationBuilder app) in C:\Users\USUARIO\Documents\ustart-api-final\API\Startup.cs:line 88
   at UStart.API.Startup.Configure(IApplicationBuilder app, IWebHostEnvironment env) in C:\Users\USUARIO\Documents\ustart-api-final\API\Startup.cs:line 66
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Object[] arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.AspNetCore.Hosting.ConfigureBuilder.Invoke(Object instance, IApplicationBuilder builder)
   at Microsoft.AspNetCore.Hosting.ConfigureBuilder.<>c__DisplayClass4_0.<Build>b__0(IApplicationBuilder builder)
   at Microsoft.AspNetCore.Hosting.GenericWebHostBuilder.<>c__DisplayClass15_0.<UseStartup>b__1(IApplicationBuilder app)
   at Microsoft.Extensions.DependencyInjection.AutoRegisterMiddleware.<>c__DisplayClass4_0.<Configure>b__0(IApplicationBuilder app)
   at Microsoft.AspNetCore.Mvc.Filters.MiddlewareFilterBuilderStartupFilter.<>c__DisplayClass0_0.<Configure>g__MiddlewareFilterBuilder|0(IApplicationBuilder builder)
   at Microsoft.AspNetCore.HostFilteringStartupFilter.<>c__DisplayClass0_0.<Configure>b__0(IApplicationBuilder app)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P07
    MessageText: relation "grupo_produtos" already exists
    File: heap.c
    Line: 1162
    Routine: heap_create_with_catalog
2021-11-26 18:19:41.367 -03:00 [FTL] Host terminated unexpectedly
Npgsql.PostgresException (0x80004005): 42P07: relation "grupo_produtos" already exists
   at Npgsql.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|194_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQuery(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Migrations.MigrationCommand.ExecuteNonQuery(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQuery(IEnumerable`1 migrationCommands, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.Migrate(String targetMigration)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.Migrate(DatabaseFacade databaseFacade)
   at UStart.API.Startup.InitializeDatabase(IApplicationBuilder app) in C:\Users\USUARIO\Documents\ustart-api-final\API\Startup.cs:line 88
   at UStart.API.Startup.Configure(IApplicationBuilder app, IWebHostEnvironment env) in C:\Users\USUARIO\Documents\ustart-api-final\API\Startup.cs:line 66
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Object[] arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.AspNetCore.Hosting.ConfigureBuilder.Invoke(Object instance, IApplicationBuilder builder)
   at Microsoft.AspNetCore.Hosting.ConfigureBuilder.<>c__DisplayClass4_0.<Build>b__0(IApplicationBuilder builder)
   at Microsoft.AspNetCore.Hosting.GenericWebHostBuilder.<>c__DisplayClass15_0.<UseStartup>b__1(IApplicationBuilder app)
   at Microsoft.Extensions.DependencyInjection.AutoRegisterMiddleware.<>c__DisplayClass4_0.<Configure>b__0(IApplicationBuilder app)
   at Microsoft.AspNetCore.Mvc.Filters.MiddlewareFilterBuilderStartupFilter.<>c__DisplayClass0_0.<Configure>g__MiddlewareFilterBuilder|0(IApplicationBuilder builder)
   at Microsoft.AspNetCore.HostFilteringStartupFilter.<>c__DisplayClass0_0.<Configure>b__0(IApplicationBuilder app)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.Run(IHost host)
   at UStart.API.Program.Main(String[] args) in C:\Users\USUARIO\Documents\ustart-api-final\API\Program.cs:line 40
  Exception data:
    Severity: ERROR
    SqlState: 42P07
    MessageText: relation "grupo_produtos" already exists
    File: heap.c
    Line: 1162
    Routine: heap_create_with_catalog
2021-11-26 18:21:29.570 -03:00 [INF] Starting host
2021-11-26 18:21:29.812 -03:00 [INF] User profile is available. Using 'C:\Users\USUARIO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-26 18:21:30.648 -03:00 [INF] Entity Framework Core 5.0.2 initialized 'UStartContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: MigrationsAssembly=Infrastructure using snake-case naming  (culture=)
2021-11-26 18:21:33.788 -03:00 [INF] Executed DbCommand (184ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2021-11-26 18:21:35.187 -03:00 [INF] Executed DbCommand (211ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    migration_id character varying(150) NOT NULL,
    product_version character varying(32) NOT NULL,
    CONSTRAINT pk___ef_migrations_history PRIMARY KEY (migration_id)
);
2021-11-26 18:21:36.437 -03:00 [INF] Executed DbCommand (183ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2021-11-26 18:21:36.623 -03:00 [INF] Executed DbCommand (181ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT migration_id, product_version
FROM "__EFMigrationsHistory"
ORDER BY migration_id;
2021-11-26 18:21:36.642 -03:00 [INF] Applying migration '20210905171453_usuarios'.
2021-11-26 18:21:36.852 -03:00 [INF] Executed DbCommand (188ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE usuarios (
    id uuid NOT NULL,
    ativo boolean NOT NULL,
    email text NULL,
    autenticacao text NULL,
    data_registro timestamp without time zone NOT NULL,
    CONSTRAINT pk_usuarios PRIMARY KEY (id)
);
2021-11-26 18:21:37.031 -03:00 [INF] Executed DbCommand (175ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" (migration_id, product_version)
VALUES ('20210905171453_usuarios', '5.0.2');
2021-11-26 18:21:37.215 -03:00 [INF] Applying migration '20210905182625_usuarios_nome'.
2021-11-26 18:21:37.394 -03:00 [INF] Executed DbCommand (175ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE usuarios ADD nome text NULL;
2021-11-26 18:21:37.577 -03:00 [INF] Executed DbCommand (180ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" (migration_id, product_version)
VALUES ('20210905182625_usuarios_nome', '5.0.2');
2021-11-26 18:21:37.758 -03:00 [INF] Applying migration '20210914002100_grupos_produtos'.
2021-11-26 18:21:37.943 -03:00 [INF] Executed DbCommand (181ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE grupo_produtos (
    id uuid NOT NULL,
    descricao text NULL,
    codigo_externo text NULL,
    CONSTRAINT pk_grupo_produtos PRIMARY KEY (id)
);
2021-11-26 18:21:38.120 -03:00 [INF] Executed DbCommand (173ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" (migration_id, product_version)
VALUES ('20210914002100_grupos_produtos', '5.0.2');
2021-11-26 18:21:38.296 -03:00 [INF] Applying migration '20210915220638_produtos'.
2021-11-26 18:21:38.501 -03:00 [INF] Executed DbCommand (189ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE produtos (
    id uuid NOT NULL,
    grupo_id uuid NOT NULL,
    grupo_produto_id uuid NULL,
    nome text NULL,
    descricao text NULL,
    preco numeric NOT NULL,
    url_imagem text NULL,
    codigo_externo text NULL,
    CONSTRAINT pk_produtos PRIMARY KEY (id),
    CONSTRAINT fk_produtos_grupo_produtos_grupo_produto_id FOREIGN KEY (grupo_produto_id) REFERENCES grupo_produtos (id) ON DELETE RESTRICT
);
2021-11-26 18:21:38.681 -03:00 [INF] Executed DbCommand (176ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX ix_produtos_grupo_produto_id ON produtos (grupo_produto_id);
2021-11-26 18:21:38.868 -03:00 [INF] Executed DbCommand (185ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" (migration_id, product_version)
VALUES ('20210915220638_produtos', '5.0.2');
2021-11-26 18:21:39.047 -03:00 [INF] Applying migration '20210915223356_produtos_1'.
2021-11-26 18:21:39.235 -03:00 [INF] Executed DbCommand (176ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE produtos DROP CONSTRAINT fk_produtos_grupo_produtos_grupo_produto_id;
2021-11-26 18:21:39.417 -03:00 [INF] Executed DbCommand (179ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE produtos DROP COLUMN grupo_id;
2021-11-26 18:21:39.603 -03:00 [INF] Executed DbCommand (184ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE produtos ALTER COLUMN grupo_produto_id SET NOT NULL;
ALTER TABLE produtos ALTER COLUMN grupo_produto_id SET DEFAULT '00000000-0000-0000-0000-000000000000';
2021-11-26 18:21:39.783 -03:00 [INF] Executed DbCommand (177ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE produtos ADD CONSTRAINT fk_produtos_grupo_produtos_grupo_produto_id FOREIGN KEY (grupo_produto_id) REFERENCES grupo_produtos (id) ON DELETE CASCADE;
2021-11-26 18:21:39.957 -03:00 [INF] Executed DbCommand (171ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" (migration_id, product_version)
VALUES ('20210915223356_produtos_1', '5.0.2');
2021-11-26 18:21:40.132 -03:00 [INF] Applying migration '20210915231311_dominio-v1'.
2021-11-26 18:21:40.347 -03:00 [INF] Executed DbCommand (185ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE cliente (
    id uuid NOT NULL,
    codigo_externo text NULL,
    ativo boolean NOT NULL,
    nome text NULL,
    razao_social text NULL,
    cnpj text NULL,
    cpf text NULL,
    rua text NULL,
    numero text NULL,
    complemento text NULL,
    bairro text NULL,
    cidade_id text NULL,
    cidade_nome text NULL,
    cep text NULL,
    fone text NULL,
    email text NULL,
    limite_de_credito numeric NOT NULL,
    CONSTRAINT pk_cliente PRIMARY KEY (id)
);
2021-11-26 18:21:40.534 -03:00 [INF] Executed DbCommand (182ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE formas_pagamentos (
    id uuid NOT NULL,
    descricao text NULL,
    dias jsonb NULL,
    desconto numeric NOT NULL,
    codigo_externo text NULL,
    CONSTRAINT pk_formas_pagamentos PRIMARY KEY (id)
);
2021-11-26 18:21:40.721 -03:00 [INF] Executed DbCommand (184ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE orcamento (
    id uuid NOT NULL,
    data_orcamento timestamp without time zone NOT NULL,
    cliente_id uuid NOT NULL,
    usuario_id uuid NOT NULL,
    forma_pagamento_id uuid NOT NULL,
    observacao text NULL,
    quantidade_de_itens numeric NOT NULL,
    preco_unitario numeric NOT NULL,
    total_itens numeric NOT NULL,
    total_desconto numeric NOT NULL,
    total_produtos numeric NOT NULL,
    CONSTRAINT pk_orcamento PRIMARY KEY (id),
    CONSTRAINT fk_orcamento_cliente_cliente_id FOREIGN KEY (cliente_id) REFERENCES cliente (id) ON DELETE CASCADE,
    CONSTRAINT fk_orcamento_formas_pagamentos_forma_pagamento_id FOREIGN KEY (forma_pagamento_id) REFERENCES formas_pagamentos (id) ON DELETE CASCADE,
    CONSTRAINT fk_orcamento_usuarios_usuario_id FOREIGN KEY (usuario_id) REFERENCES usuarios (id) ON DELETE CASCADE
);
2021-11-26 18:21:40.922 -03:00 [INF] Executed DbCommand (196ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE pedido (
    id uuid NOT NULL,
    data_pedido timestamp without time zone NOT NULL,
    cliente_id uuid NOT NULL,
    usuario_id uuid NOT NULL,
    forma_pagamento_id uuid NOT NULL,
    observacao text NULL,
    quantidade_de_itens numeric NOT NULL,
    preco_unitario numeric NOT NULL,
    total_itens numeric NOT NULL,
    total_desconto numeric NOT NULL,
    total_produtos numeric NOT NULL,
    CONSTRAINT pk_pedido PRIMARY KEY (id),
    CONSTRAINT fk_pedido_cliente_cliente_id FOREIGN KEY (cliente_id) REFERENCES cliente (id) ON DELETE CASCADE,
    CONSTRAINT fk_pedido_formas_pagamentos_forma_pagamento_id FOREIGN KEY (forma_pagamento_id) REFERENCES formas_pagamentos (id) ON DELETE CASCADE,
    CONSTRAINT fk_pedido_usuarios_usuario_id FOREIGN KEY (usuario_id) REFERENCES usuarios (id) ON DELETE CASCADE
);
2021-11-26 18:21:41.109 -03:00 [INF] Executed DbCommand (182ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE orcamento_item (
    id uuid NOT NULL,
    orcamento_id uuid NOT NULL,
    produto_id uuid NOT NULL,
    observacao text NULL,
    quantidade numeric NOT NULL,
    preco_unitario numeric NOT NULL,
    desconto numeric NOT NULL,
    total_unitario numeric NOT NULL,
    total_item numeric NOT NULL,
    CONSTRAINT pk_orcamento_item PRIMARY KEY (id),
    CONSTRAINT fk_orcamento_item_orcamento_orcamento_id FOREIGN KEY (orcamento_id) REFERENCES orcamento (id) ON DELETE CASCADE,
    CONSTRAINT fk_orcamento_item_produtos_produto_id FOREIGN KEY (produto_id) REFERENCES produtos (id) ON DELETE CASCADE
);
2021-11-26 18:21:41.295 -03:00 [INF] Executed DbCommand (182ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE pedido_item (
    id uuid NOT NULL,
    pedido_id uuid NOT NULL,
    produto_id uuid NOT NULL,
    observacao text NULL,
    quantidade numeric NOT NULL,
    preco_unitario numeric NOT NULL,
    desconto numeric NOT NULL,
    total_unitario numeric NOT NULL,
    total_item numeric NOT NULL,
    CONSTRAINT pk_pedido_item PRIMARY KEY (id),
    CONSTRAINT fk_pedido_item_pedido_pedido_id FOREIGN KEY (pedido_id) REFERENCES pedido (id) ON DELETE CASCADE,
    CONSTRAINT fk_pedido_item_produtos_produto_id FOREIGN KEY (produto_id) REFERENCES produtos (id) ON DELETE CASCADE
);
2021-11-26 18:21:41.477 -03:00 [INF] Executed DbCommand (178ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX ix_orcamento_cliente_id ON orcamento (cliente_id);
2021-11-26 18:21:41.655 -03:00 [INF] Executed DbCommand (176ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX ix_orcamento_forma_pagamento_id ON orcamento (forma_pagamento_id);
2021-11-26 18:21:41.836 -03:00 [INF] Executed DbCommand (177ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX ix_orcamento_usuario_id ON orcamento (usuario_id);
2021-11-26 18:21:42.017 -03:00 [INF] Executed DbCommand (176ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX ix_orcamento_item_orcamento_id ON orcamento_item (orcamento_id);
2021-11-26 18:21:42.196 -03:00 [INF] Executed DbCommand (175ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX ix_orcamento_item_produto_id ON orcamento_item (produto_id);
2021-11-26 18:21:42.376 -03:00 [INF] Executed DbCommand (178ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX ix_pedido_cliente_id ON pedido (cliente_id);
2021-11-26 18:21:42.555 -03:00 [INF] Executed DbCommand (177ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX ix_pedido_forma_pagamento_id ON pedido (forma_pagamento_id);
2021-11-26 18:21:42.733 -03:00 [INF] Executed DbCommand (176ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX ix_pedido_usuario_id ON pedido (usuario_id);
2021-11-26 18:21:42.911 -03:00 [INF] Executed DbCommand (175ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX ix_pedido_item_pedido_id ON pedido_item (pedido_id);
2021-11-26 18:21:43.089 -03:00 [INF] Executed DbCommand (175ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX ix_pedido_item_produto_id ON pedido_item (produto_id);
2021-11-26 18:21:43.266 -03:00 [INF] Executed DbCommand (174ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" (migration_id, product_version)
VALUES ('20210915231311_dominio-v1', '5.0.2');
2021-11-26 18:21:43.443 -03:00 [INF] Applying migration '20210918003040_dominio-v2'.
2021-11-26 18:21:43.640 -03:00 [INF] Executed DbCommand (178ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE orcamento DROP CONSTRAINT fk_orcamento_cliente_cliente_id;
2021-11-26 18:21:43.819 -03:00 [INF] Executed DbCommand (177ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE orcamento DROP CONSTRAINT fk_orcamento_formas_pagamentos_forma_pagamento_id;
2021-11-26 18:21:43.996 -03:00 [INF] Executed DbCommand (174ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE orcamento DROP CONSTRAINT fk_orcamento_usuarios_usuario_id;
2021-11-26 18:21:44.173 -03:00 [INF] Executed DbCommand (174ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE orcamento_item DROP CONSTRAINT fk_orcamento_item_orcamento_orcamento_id;
2021-11-26 18:21:44.349 -03:00 [INF] Executed DbCommand (173ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE orcamento_item DROP CONSTRAINT fk_orcamento_item_produtos_produto_id;
2021-11-26 18:21:44.525 -03:00 [INF] Executed DbCommand (173ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE pedido DROP CONSTRAINT fk_pedido_cliente_cliente_id;
2021-11-26 18:21:44.702 -03:00 [INF] Executed DbCommand (174ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE pedido DROP CONSTRAINT fk_pedido_formas_pagamentos_forma_pagamento_id;
2021-11-26 18:21:44.881 -03:00 [INF] Executed DbCommand (176ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE pedido DROP CONSTRAINT fk_pedido_usuarios_usuario_id;
2021-11-26 18:21:45.057 -03:00 [INF] Executed DbCommand (173ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE pedido_item DROP CONSTRAINT fk_pedido_item_pedido_pedido_id;
2021-11-26 18:21:45.236 -03:00 [INF] Executed DbCommand (176ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE pedido_item DROP CONSTRAINT fk_pedido_item_produtos_produto_id;
2021-11-26 18:21:45.417 -03:00 [INF] Executed DbCommand (179ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE pedido_item DROP CONSTRAINT pk_pedido_item;
2021-11-26 18:21:45.593 -03:00 [INF] Executed DbCommand (173ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE pedido DROP CONSTRAINT pk_pedido;
2021-11-26 18:21:45.770 -03:00 [INF] Executed DbCommand (174ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE orcamento_item DROP CONSTRAINT pk_orcamento_item;
2021-11-26 18:21:45.947 -03:00 [INF] Executed DbCommand (173ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE orcamento DROP CONSTRAINT pk_orcamento;
2021-11-26 18:21:46.126 -03:00 [INF] Executed DbCommand (176ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE cliente DROP CONSTRAINT pk_cliente;
2021-11-26 18:21:46.303 -03:00 [INF] Executed DbCommand (174ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE orcamento DROP COLUMN preco_unitario;
2021-11-26 18:21:46.480 -03:00 [INF] Executed DbCommand (175ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE pedido_item RENAME TO pedidos_itens;
2021-11-26 18:21:46.655 -03:00 [INF] Executed DbCommand (173ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE pedido RENAME TO pedidos;
2021-11-26 18:21:46.846 -03:00 [INF] Executed DbCommand (188ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE orcamento_item RENAME TO orcamentos_itens;
2021-11-26 18:21:47.034 -03:00 [INF] Executed DbCommand (184ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE orcamento RENAME TO orcamentos;
2021-11-26 18:21:47.210 -03:00 [INF] Executed DbCommand (173ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE cliente RENAME TO clientes;
2021-11-26 18:21:47.385 -03:00 [INF] Executed DbCommand (172ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER INDEX ix_pedido_item_produto_id RENAME TO ix_pedidos_itens_produto_id;
2021-11-26 18:21:47.562 -03:00 [INF] Executed DbCommand (174ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER INDEX ix_pedido_item_pedido_id RENAME TO ix_pedidos_itens_pedido_id;
2021-11-26 18:21:47.738 -03:00 [INF] Executed DbCommand (173ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER INDEX ix_pedido_usuario_id RENAME TO ix_pedidos_usuario_id;
2021-11-26 18:21:47.914 -03:00 [INF] Executed DbCommand (173ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER INDEX ix_pedido_forma_pagamento_id RENAME TO ix_pedidos_forma_pagamento_id;
2021-11-26 18:21:48.091 -03:00 [INF] Executed DbCommand (174ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER INDEX ix_pedido_cliente_id RENAME TO ix_pedidos_cliente_id;
2021-11-26 18:21:48.267 -03:00 [INF] Executed DbCommand (173ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER INDEX ix_orcamento_item_produto_id RENAME TO ix_orcamentos_itens_produto_id;
2021-11-26 18:21:48.445 -03:00 [INF] Executed DbCommand (175ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER INDEX ix_orcamento_item_orcamento_id RENAME TO ix_orcamentos_itens_orcamento_id;
2021-11-26 18:21:48.621 -03:00 [INF] Executed DbCommand (173ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER INDEX ix_orcamento_usuario_id RENAME TO ix_orcamentos_usuario_id;
2021-11-26 18:21:48.801 -03:00 [INF] Executed DbCommand (176ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER INDEX ix_orcamento_forma_pagamento_id RENAME TO ix_orcamentos_forma_pagamento_id;
2021-11-26 18:21:48.980 -03:00 [INF] Executed DbCommand (176ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER INDEX ix_orcamento_cliente_id RENAME TO ix_orcamentos_cliente_id;
2021-11-26 18:21:49.164 -03:00 [INF] Executed DbCommand (181ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE pedidos_itens ADD CONSTRAINT pk_pedidos_itens PRIMARY KEY (id);
2021-11-26 18:21:49.345 -03:00 [INF] Executed DbCommand (178ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE pedidos ADD CONSTRAINT pk_pedidos PRIMARY KEY (id);
2021-11-26 18:21:49.527 -03:00 [INF] Executed DbCommand (178ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE orcamentos_itens ADD CONSTRAINT pk_orcamentos_itens PRIMARY KEY (id);
2021-11-26 18:21:49.708 -03:00 [INF] Executed DbCommand (178ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE orcamentos ADD CONSTRAINT pk_orcamentos PRIMARY KEY (id);
2021-11-26 18:21:49.887 -03:00 [INF] Executed DbCommand (176ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE clientes ADD CONSTRAINT pk_clientes PRIMARY KEY (id);
2021-11-26 18:21:50.066 -03:00 [INF] Executed DbCommand (176ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE orcamentos ADD CONSTRAINT fk_orcamentos_clientes_cliente_id FOREIGN KEY (cliente_id) REFERENCES clientes (id) ON DELETE CASCADE;
2021-11-26 18:21:50.243 -03:00 [INF] Executed DbCommand (175ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE orcamentos ADD CONSTRAINT fk_orcamentos_formas_pagamentos_forma_pagamento_id FOREIGN KEY (forma_pagamento_id) REFERENCES formas_pagamentos (id) ON DELETE CASCADE;
2021-11-26 18:21:50.419 -03:00 [INF] Executed DbCommand (173ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE orcamentos ADD CONSTRAINT fk_orcamentos_usuarios_usuario_id FOREIGN KEY (usuario_id) REFERENCES usuarios (id) ON DELETE CASCADE;
2021-11-26 18:21:50.597 -03:00 [INF] Executed DbCommand (175ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE orcamentos_itens ADD CONSTRAINT fk_orcamentos_itens_orcamentos_orcamento_id FOREIGN KEY (orcamento_id) REFERENCES orcamentos (id) ON DELETE CASCADE;
2021-11-26 18:21:50.775 -03:00 [INF] Executed DbCommand (174ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE orcamentos_itens ADD CONSTRAINT fk_orcamentos_itens_produtos_produto_id FOREIGN KEY (produto_id) REFERENCES produtos (id) ON DELETE CASCADE;
2021-11-26 18:21:50.954 -03:00 [INF] Executed DbCommand (176ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE pedidos ADD CONSTRAINT fk_pedidos_clientes_cliente_id FOREIGN KEY (cliente_id) REFERENCES clientes (id) ON DELETE CASCADE;
2021-11-26 18:21:51.135 -03:00 [INF] Executed DbCommand (178ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE pedidos ADD CONSTRAINT fk_pedidos_formas_pagamentos_forma_pagamento_id FOREIGN KEY (forma_pagamento_id) REFERENCES formas_pagamentos (id) ON DELETE CASCADE;
2021-11-26 18:21:51.314 -03:00 [INF] Executed DbCommand (176ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE pedidos ADD CONSTRAINT fk_pedidos_usuarios_usuario_id FOREIGN KEY (usuario_id) REFERENCES usuarios (id) ON DELETE CASCADE;
2021-11-26 18:21:51.492 -03:00 [INF] Executed DbCommand (174ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE pedidos_itens ADD CONSTRAINT fk_pedidos_itens_pedidos_pedido_id FOREIGN KEY (pedido_id) REFERENCES pedidos (id) ON DELETE CASCADE;
2021-11-26 18:21:51.670 -03:00 [INF] Executed DbCommand (175ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE pedidos_itens ADD CONSTRAINT fk_pedidos_itens_produtos_produto_id FOREIGN KEY (produto_id) REFERENCES produtos (id) ON DELETE CASCADE;
2021-11-26 18:21:51.846 -03:00 [INF] Executed DbCommand (174ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" (migration_id, product_version)
VALUES ('20210918003040_dominio-v2', '5.0.2');
2021-11-26 18:21:52.029 -03:00 [INF] Applying migration '20210928235303_cliente_estado_id'.
2021-11-26 18:21:52.220 -03:00 [INF] Executed DbCommand (176ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE clientes ADD estado_id text NULL;
2021-11-26 18:21:52.402 -03:00 [INF] Executed DbCommand (180ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" (migration_id, product_version)
VALUES ('20210928235303_cliente_estado_id', '5.0.2');
2021-11-26 18:21:53.813 -03:00 [INF] Executed DbCommand (173ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2021-11-26 18:21:53.992 -03:00 [INF] Executed DbCommand (177ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT migration_id, product_version
FROM "__EFMigrationsHistory"
ORDER BY migration_id;
2021-11-26 18:21:54.310 -03:00 [INF] Executed DbCommand (173ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM usuarios AS u)
2021-11-26 18:21:54.621 -03:00 [INF] Executed DbCommand (180ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Boolean), @p2='?', @p3='?' (DbType = DateTime), @p4='?', @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO usuarios (id, ativo, autenticacao, data_registro, email, nome)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2021-11-26 18:21:54.920 -03:00 [INF] Now listening on: https://localhost:5001
2021-11-26 18:21:54.922 -03:00 [INF] Now listening on: http://localhost:5000
2021-11-26 18:21:54.924 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-26 18:21:54.926 -03:00 [INF] Hosting environment: Development
2021-11-26 18:21:54.927 -03:00 [INF] Content root path: C:\Users\USUARIO\Documents\ustart-api-final\API
2021-11-26 18:25:52.502 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/v1/produto/?pesquisa= - -
2021-11-26 18:25:52.539 -03:00 [INF] CORS policy execution successful.
2021-11-26 18:25:52.548 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/v1/produto/?pesquisa= - - - 204 - - 48.2214ms
2021-11-26 18:25:52.558 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/v1/produto/?pesquisa= - -
2021-11-26 18:25:52.561 -03:00 [INF] CORS policy execution successful.
2021-11-26 18:25:52.766 -03:00 [INF] Successfully validated the token.
2021-11-26 18:25:52.772 -03:00 [INF] Authorization was successful.
2021-11-26 18:25:52.774 -03:00 [INF] Executing endpoint 'UStart.API.Controllers.ProdutoController.Get (API)'
2021-11-26 18:25:52.794 -03:00 [INF] Route matched with {action = "Get", controller = "Produto"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get() on controller UStart.API.Controllers.ProdutoController (API).
2021-11-26 18:25:52.803 -03:00 [INF] Entity Framework Core 5.0.2 initialized 'UStartContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: MigrationsAssembly=Infrastructure using snake-case naming  (culture=)
2021-11-26 18:25:53.064 -03:00 [INF] Executed DbCommand (175ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.codigo_externo, p.descricao, p.grupo_produto_id, p.nome, p.preco, p.url_imagem, g.id, g.codigo_externo, g.descricao
FROM produtos AS p
INNER JOIN grupo_produtos AS g ON p.grupo_produto_id = g.id
2021-11-26 18:25:53.072 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[UStart.Domain.Entities.Produto, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-26 18:25:53.108 -03:00 [INF] Executed action UStart.API.Controllers.ProdutoController.Get (API) in 306.6279ms
2021-11-26 18:25:53.111 -03:00 [INF] Executed endpoint 'UStart.API.Controllers.ProdutoController.Get (API)'
2021-11-26 18:25:53.117 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/v1/produto/?pesquisa= - - - 200 - application/json;+charset=utf-8 560.6280ms
2021-11-26 18:25:56.211 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/v1/grupo-produto/?pesquisa= - -
2021-11-26 18:25:56.214 -03:00 [INF] CORS policy execution successful.
2021-11-26 18:25:56.215 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/v1/grupo-produto/?pesquisa= - - - 204 - - 4.5763ms
2021-11-26 18:25:56.220 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/v1/grupo-produto/?pesquisa= - -
2021-11-26 18:25:56.222 -03:00 [INF] CORS policy execution successful.
2021-11-26 18:25:56.230 -03:00 [INF] Successfully validated the token.
2021-11-26 18:25:56.232 -03:00 [INF] Authorization was successful.
2021-11-26 18:25:56.233 -03:00 [INF] Executing endpoint 'UStart.API.Controllers.GrupoProdutoController.GetGruposProdutos (API)'
2021-11-26 18:25:56.253 -03:00 [INF] Route matched with {action = "GetGruposProdutos", controller = "GrupoProduto"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetGruposProdutos(System.String) on controller UStart.API.Controllers.GrupoProdutoController (API).
2021-11-26 18:25:56.296 -03:00 [INF] Entity Framework Core 5.0.2 initialized 'UStartContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: MigrationsAssembly=Infrastructure using snake-case naming  (culture=)
2021-11-26 18:25:56.508 -03:00 [INF] Executed DbCommand (176ms) [Parameters=[@__pesquisa_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT g.id, g.codigo_externo, g.descricao
FROM grupo_produtos AS g
WHERE (@__pesquisa_0 = '') OR (strpos(lower(g.descricao), @__pesquisa_0) > 0)
2021-11-26 18:25:56.511 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[UStart.Domain.Entities.GrupoProduto, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-26 18:25:56.514 -03:00 [INF] Executed action UStart.API.Controllers.GrupoProdutoController.GetGruposProdutos (API) in 259.4389ms
2021-11-26 18:25:56.516 -03:00 [INF] Executed endpoint 'UStart.API.Controllers.GrupoProdutoController.GetGruposProdutos (API)'
2021-11-26 18:25:56.517 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/v1/grupo-produto/?pesquisa= - - - 200 - application/json;+charset=utf-8 297.3509ms
2021-11-26 18:25:57.010 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/v1/produto/?pesquisa= - -
2021-11-26 18:25:57.014 -03:00 [INF] CORS policy execution successful.
2021-11-26 18:25:57.019 -03:00 [INF] Successfully validated the token.
2021-11-26 18:25:57.023 -03:00 [INF] Authorization was successful.
2021-11-26 18:25:57.026 -03:00 [INF] Executing endpoint 'UStart.API.Controllers.ProdutoController.Get (API)'
2021-11-26 18:25:57.030 -03:00 [INF] Route matched with {action = "Get", controller = "Produto"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get() on controller UStart.API.Controllers.ProdutoController (API).
2021-11-26 18:25:57.036 -03:00 [INF] Entity Framework Core 5.0.2 initialized 'UStartContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: MigrationsAssembly=Infrastructure using snake-case naming  (culture=)
2021-11-26 18:25:57.215 -03:00 [INF] Executed DbCommand (173ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.codigo_externo, p.descricao, p.grupo_produto_id, p.nome, p.preco, p.url_imagem, g.id, g.codigo_externo, g.descricao
FROM produtos AS p
INNER JOIN grupo_produtos AS g ON p.grupo_produto_id = g.id
2021-11-26 18:25:57.219 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[UStart.Domain.Entities.Produto, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-26 18:25:57.220 -03:00 [INF] Executed action UStart.API.Controllers.ProdutoController.Get (API) in 184.2952ms
2021-11-26 18:25:57.222 -03:00 [INF] Executed endpoint 'UStart.API.Controllers.ProdutoController.Get (API)'
2021-11-26 18:25:57.223 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/v1/produto/?pesquisa= - - - 200 - application/json;+charset=utf-8 213.1623ms
2021-11-26 18:25:59.525 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/v1/grupo-produto/?pesquisa= - -
2021-11-26 18:25:59.528 -03:00 [INF] CORS policy execution successful.
2021-11-26 18:25:59.530 -03:00 [INF] Successfully validated the token.
2021-11-26 18:25:59.532 -03:00 [INF] Authorization was successful.
2021-11-26 18:25:59.534 -03:00 [INF] Executing endpoint 'UStart.API.Controllers.GrupoProdutoController.GetGruposProdutos (API)'
2021-11-26 18:25:59.536 -03:00 [INF] Route matched with {action = "GetGruposProdutos", controller = "GrupoProduto"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetGruposProdutos(System.String) on controller UStart.API.Controllers.GrupoProdutoController (API).
2021-11-26 18:25:59.543 -03:00 [INF] Entity Framework Core 5.0.2 initialized 'UStartContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: MigrationsAssembly=Infrastructure using snake-case naming  (culture=)
2021-11-26 18:25:59.721 -03:00 [INF] Executed DbCommand (173ms) [Parameters=[@__pesquisa_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT g.id, g.codigo_externo, g.descricao
FROM grupo_produtos AS g
WHERE (@__pesquisa_0 = '') OR (strpos(lower(g.descricao), @__pesquisa_0) > 0)
2021-11-26 18:25:59.725 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[UStart.Domain.Entities.GrupoProduto, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-26 18:25:59.727 -03:00 [INF] Executed action UStart.API.Controllers.GrupoProdutoController.GetGruposProdutos (API) in 184.6686ms
2021-11-26 18:25:59.728 -03:00 [INF] Executed endpoint 'UStart.API.Controllers.GrupoProdutoController.GetGruposProdutos (API)'
2021-11-26 18:25:59.730 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/v1/grupo-produto/?pesquisa= - - - 200 - application/json;+charset=utf-8 204.5466ms
2021-11-26 18:26:35.747 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/v1/usuario/?pesquisa= - -
2021-11-26 18:26:35.752 -03:00 [INF] CORS policy execution successful.
2021-11-26 18:26:35.754 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/v1/usuario/?pesquisa= - - - 204 - - 6.1649ms
2021-11-26 18:26:35.759 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/v1/usuario/?pesquisa= - -
2021-11-26 18:26:35.761 -03:00 [INF] CORS policy execution successful.
2021-11-26 18:26:35.763 -03:00 [INF] Successfully validated the token.
2021-11-26 18:26:35.764 -03:00 [INF] Authorization was successful.
2021-11-26 18:26:35.765 -03:00 [INF] Executing endpoint 'UStart.API.Controllers.UsuarioController.Pesquisar (API)'
2021-11-26 18:26:35.769 -03:00 [INF] Route matched with {action = "Pesquisar", controller = "Usuario"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Pesquisar(System.String) on controller UStart.API.Controllers.UsuarioController (API).
2021-11-26 18:26:35.777 -03:00 [INF] Entity Framework Core 5.0.2 initialized 'UStartContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: MigrationsAssembly=Infrastructure using snake-case naming  (culture=)
2021-11-26 18:26:37.027 -03:00 [INF] Executed DbCommand (175ms) [Parameters=[@__pesquisa_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.ativo, u.autenticacao, u.data_registro, u.email, u.nome
FROM usuarios AS u
WHERE ((@__pesquisa_0 = '') OR (strpos(lower(u.email), @__pesquisa_0) > 0)) OR ((@__pesquisa_0 = '') OR (strpos(u.nome, @__pesquisa_0) > 0))
2021-11-26 18:26:37.036 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[UStart.Domain.Results.UsuarioResult, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-26 18:26:37.055 -03:00 [INF] Executed action UStart.API.Controllers.UsuarioController.Pesquisar (API) in 1283.7798ms
2021-11-26 18:26:37.057 -03:00 [INF] Executed endpoint 'UStart.API.Controllers.UsuarioController.Pesquisar (API)'
2021-11-26 18:26:37.059 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/v1/usuario/?pesquisa= - - - 200 - application/json;+charset=utf-8 1299.9824ms
2021-11-26 18:27:16.518 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/v1/cliente application/json 379
2021-11-26 18:27:16.520 -03:00 [INF] Successfully validated the token.
2021-11-26 18:27:16.521 -03:00 [INF] Authorization was successful.
2021-11-26 18:27:16.522 -03:00 [INF] Executing endpoint 'UStart.API.Controllers.ClienteController.Adicionar (API)'
2021-11-26 18:27:16.526 -03:00 [INF] Route matched with {action = "Adicionar", controller = "Cliente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Adicionar(UStart.Domain.Commands.ClienteCommand) on controller UStart.API.Controllers.ClienteController (API).
2021-11-26 18:27:16.550 -03:00 [INF] Entity Framework Core 5.0.2 initialized 'UStartContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: MigrationsAssembly=Infrastructure using snake-case naming  (culture=)
2021-11-26 18:27:16.792 -03:00 [INF] Executed DbCommand (195ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Boolean), @p2='?', @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?', @p12='?', @p13='?' (DbType = Decimal), @p14='?', @p15='?', @p16='?', @p17='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO clientes (id, ativo, bairro, cep, cnpj, cpf, cidade_id, cidade_nome, codigo_externo, complemento, email, estado_id, fone, limite_de_credito, nome, numero, razao_social, rua)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2021-11-26 18:27:16.976 -03:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200
2021-11-26 18:27:16.977 -03:00 [INF] Executed action UStart.API.Controllers.ClienteController.Adicionar (API) in 448.6254ms
2021-11-26 18:27:16.979 -03:00 [INF] Executed endpoint 'UStart.API.Controllers.ClienteController.Adicionar (API)'
2021-11-26 18:27:16.981 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/v1/cliente application/json 379 - 200 0 - 462.8387ms
2021-11-26 18:27:26.141 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/v1/grupo-produto application/json 71
2021-11-26 18:27:26.145 -03:00 [INF] Successfully validated the token.
2021-11-26 18:27:26.147 -03:00 [INF] Authorization was successful.
2021-11-26 18:27:26.148 -03:00 [INF] Executing endpoint 'UStart.API.Controllers.GrupoProdutoController.AdicionarGrupoProduto (API)'
2021-11-26 18:27:26.151 -03:00 [INF] Route matched with {action = "AdicionarGrupoProduto", controller = "GrupoProduto"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AdicionarGrupoProduto(UStart.Domain.Commands.GrupoProdutoCommand) on controller UStart.API.Controllers.GrupoProdutoController (API).
2021-11-26 18:27:26.160 -03:00 [INF] Entity Framework Core 5.0.2 initialized 'UStartContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: MigrationsAssembly=Infrastructure using snake-case naming  (culture=)
2021-11-26 18:27:26.350 -03:00 [INF] Executed DbCommand (170ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO grupo_produtos (id, codigo_externo, descricao)
VALUES (@p0, @p1, @p2);
2021-11-26 18:27:26.538 -03:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200
2021-11-26 18:27:26.539 -03:00 [INF] Executed action UStart.API.Controllers.GrupoProdutoController.AdicionarGrupoProduto (API) in 385.9198ms
2021-11-26 18:27:26.541 -03:00 [INF] Executed endpoint 'UStart.API.Controllers.GrupoProdutoController.AdicionarGrupoProduto (API)'
2021-11-26 18:27:26.543 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/v1/grupo-produto application/json 71 - 200 0 - 402.2020ms
2021-11-26 18:27:38.518 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/v1/produto application/json 249
2021-11-26 18:27:38.519 -03:00 [INF] Successfully validated the token.
2021-11-26 18:27:38.520 -03:00 [INF] Authorization was successful.
2021-11-26 18:27:38.521 -03:00 [INF] Executing endpoint 'UStart.API.Controllers.ProdutoController.Adicionar (API)'
2021-11-26 18:27:38.524 -03:00 [INF] Route matched with {action = "Adicionar", controller = "Produto"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Adicionar(UStart.Domain.Commands.ProdutoCommand) on controller UStart.API.Controllers.ProdutoController (API).
2021-11-26 18:27:38.532 -03:00 [INF] Entity Framework Core 5.0.2 initialized 'UStartContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: MigrationsAssembly=Infrastructure using snake-case naming  (culture=)
2021-11-26 18:27:38.739 -03:00 [ERR] Failed executing DbCommand (186ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Decimal), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO produtos (id, codigo_externo, descricao, grupo_produto_id, nome, preco, url_imagem)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2021-11-26 18:27:38.950 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'UStart.Infrastructure.Context.UStartContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "produtos" violates foreign key constraint "fk_produtos_grupo_produtos_grupo_produto_id"
   at Npgsql.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|194_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "produtos" violates foreign key constraint "fk_produtos_grupo_produtos_grupo_produto_id"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: produtos
    ConstraintName: fk_produtos_grupo_produtos_grupo_produto_id
    File: ri_triggers.c
    Line: 2465
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(DbContext _, Boolean acceptAllChangesOnSuccess)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "produtos" violates foreign key constraint "fk_produtos_grupo_produtos_grupo_produto_id"
   at Npgsql.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|194_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "produtos" violates foreign key constraint "fk_produtos_grupo_produtos_grupo_produto_id"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: produtos
    ConstraintName: fk_produtos_grupo_produtos_grupo_produto_id
    File: ri_triggers.c
    Line: 2465
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(DbContext _, Boolean acceptAllChangesOnSuccess)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2021-11-26 18:27:38.968 -03:00 [INF] Executed action UStart.API.Controllers.ProdutoController.Adicionar (API) in 441.4022ms
2021-11-26 18:27:38.971 -03:00 [INF] Executed endpoint 'UStart.API.Controllers.ProdutoController.Adicionar (API)'
2021-11-26 18:27:38.974 -03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "produtos" violates foreign key constraint "fk_produtos_grupo_produtos_grupo_produto_id"
   at Npgsql.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|194_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "produtos" violates foreign key constraint "fk_produtos_grupo_produtos_grupo_produto_id"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: produtos
    ConstraintName: fk_produtos_grupo_produtos_grupo_produto_id
    File: ri_triggers.c
    Line: 2465
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(DbContext _, Boolean acceptAllChangesOnSuccess)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at UStart.Infrastructure.Context.UStartContext.SaveChanges() in C:\Users\USUARIO\Documents\ustart-api-final\Infrastructure\Context\UStartContext.cs:line 36
   at UStart.Infrastructure.UoW.UnitOfWork.Commit() in C:\Users\USUARIO\Documents\ustart-api-final\Infrastructure\UoW\UnitOfWork.cs:line 17
   at UStart.Domain.Workflows.ProdutoWorkflow.Add(ProdutoCommand command) in C:\Users\USUARIO\Documents\ustart-api-final\Domain\Workflows\ProdutoWorkflow.cs:line 24
   at UStart.API.Controllers.ProdutoController.Adicionar(ProdutoCommand command) in C:\Users\USUARIO\Documents\ustart-api-final\API\Controllers\ProdutoController.cs:line 59
   at lambda_method412(Closure , Object , Object[] )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2021-11-26 18:27:39.034 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/v1/produto application/json 249 - 500 0 - 516.3697ms
2021-11-26 18:27:44.954 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/v1/usuario/?pesquisa= - -
2021-11-26 18:27:44.960 -03:00 [INF] CORS policy execution successful.
2021-11-26 18:27:44.961 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/v1/usuario/?pesquisa= - - - 204 - - 6.8383ms
2021-11-26 18:27:44.967 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/v1/usuario/?pesquisa= - -
2021-11-26 18:27:44.969 -03:00 [INF] CORS policy execution successful.
2021-11-26 18:27:45.000 -03:00 [INF] Successfully validated the token.
2021-11-26 18:27:45.022 -03:00 [INF] Authorization was successful.
2021-11-26 18:27:45.025 -03:00 [INF] Executing endpoint 'UStart.API.Controllers.UsuarioController.Pesquisar (API)'
2021-11-26 18:27:45.028 -03:00 [INF] Route matched with {action = "Pesquisar", controller = "Usuario"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Pesquisar(System.String) on controller UStart.API.Controllers.UsuarioController (API).
2021-11-26 18:27:45.037 -03:00 [INF] Entity Framework Core 5.0.2 initialized 'UStartContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: MigrationsAssembly=Infrastructure using snake-case naming  (culture=)
2021-11-26 18:27:45.242 -03:00 [INF] Executed DbCommand (172ms) [Parameters=[@__pesquisa_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.ativo, u.autenticacao, u.data_registro, u.email, u.nome
FROM usuarios AS u
WHERE ((@__pesquisa_0 = '') OR (strpos(lower(u.email), @__pesquisa_0) > 0)) OR ((@__pesquisa_0 = '') OR (strpos(u.nome, @__pesquisa_0) > 0))
2021-11-26 18:27:45.247 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[UStart.Domain.Results.UsuarioResult, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-26 18:27:45.249 -03:00 [INF] Executed action UStart.API.Controllers.UsuarioController.Pesquisar (API) in 213.4053ms
2021-11-26 18:27:45.250 -03:00 [INF] Executed endpoint 'UStart.API.Controllers.UsuarioController.Pesquisar (API)'
2021-11-26 18:27:45.252 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/v1/usuario/?pesquisa= - - - 200 - application/json;+charset=utf-8 284.7573ms
2021-11-26 18:27:47.550 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/v1/produto/?pesquisa= - -
2021-11-26 18:27:47.552 -03:00 [INF] CORS policy execution successful.
2021-11-26 18:27:47.553 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/v1/produto/?pesquisa= - - - 204 - - 3.0951ms
2021-11-26 18:27:47.556 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/v1/produto/?pesquisa= - -
2021-11-26 18:27:47.559 -03:00 [INF] CORS policy execution successful.
2021-11-26 18:27:47.561 -03:00 [INF] Successfully validated the token.
2021-11-26 18:27:47.562 -03:00 [INF] Authorization was successful.
2021-11-26 18:27:47.563 -03:00 [INF] Executing endpoint 'UStart.API.Controllers.ProdutoController.Get (API)'
2021-11-26 18:27:47.565 -03:00 [INF] Route matched with {action = "Get", controller = "Produto"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get() on controller UStart.API.Controllers.ProdutoController (API).
2021-11-26 18:27:47.569 -03:00 [INF] Entity Framework Core 5.0.2 initialized 'UStartContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: MigrationsAssembly=Infrastructure using snake-case naming  (culture=)
2021-11-26 18:27:47.745 -03:00 [INF] Executed DbCommand (173ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.codigo_externo, p.descricao, p.grupo_produto_id, p.nome, p.preco, p.url_imagem, g.id, g.codigo_externo, g.descricao
FROM produtos AS p
INNER JOIN grupo_produtos AS g ON p.grupo_produto_id = g.id
2021-11-26 18:27:47.748 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[UStart.Domain.Entities.Produto, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-26 18:27:47.750 -03:00 [INF] Executed action UStart.API.Controllers.ProdutoController.Get (API) in 181.682ms
2021-11-26 18:27:47.751 -03:00 [INF] Executed endpoint 'UStart.API.Controllers.ProdutoController.Get (API)'
2021-11-26 18:27:47.753 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/v1/produto/?pesquisa= - - - 200 - application/json;+charset=utf-8 196.2004ms
2021-11-26 18:27:51.053 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/v1/usuario/?pesquisa= - -
2021-11-26 18:27:51.057 -03:00 [INF] CORS policy execution successful.
2021-11-26 18:27:51.060 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/v1/usuario/?pesquisa= - - - 204 - - 7.0867ms
2021-11-26 18:27:51.064 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/v1/usuario/?pesquisa= - -
2021-11-26 18:27:51.066 -03:00 [INF] CORS policy execution successful.
2021-11-26 18:27:51.067 -03:00 [INF] Successfully validated the token.
2021-11-26 18:27:51.070 -03:00 [INF] Authorization was successful.
2021-11-26 18:27:51.072 -03:00 [INF] Executing endpoint 'UStart.API.Controllers.UsuarioController.Pesquisar (API)'
2021-11-26 18:27:51.075 -03:00 [INF] Route matched with {action = "Pesquisar", controller = "Usuario"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Pesquisar(System.String) on controller UStart.API.Controllers.UsuarioController (API).
2021-11-26 18:27:51.080 -03:00 [INF] Entity Framework Core 5.0.2 initialized 'UStartContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: MigrationsAssembly=Infrastructure using snake-case naming  (culture=)
2021-11-26 18:27:51.261 -03:00 [INF] Executed DbCommand (177ms) [Parameters=[@__pesquisa_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.ativo, u.autenticacao, u.data_registro, u.email, u.nome
FROM usuarios AS u
WHERE ((@__pesquisa_0 = '') OR (strpos(lower(u.email), @__pesquisa_0) > 0)) OR ((@__pesquisa_0 = '') OR (strpos(u.nome, @__pesquisa_0) > 0))
2021-11-26 18:27:51.264 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[UStart.Domain.Results.UsuarioResult, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-26 18:27:51.266 -03:00 [INF] Executed action UStart.API.Controllers.UsuarioController.Pesquisar (API) in 188.1499ms
2021-11-26 18:27:51.267 -03:00 [INF] Executed endpoint 'UStart.API.Controllers.UsuarioController.Pesquisar (API)'
2021-11-26 18:27:51.269 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/v1/usuario/?pesquisa= - - - 200 - application/json;+charset=utf-8 204.5395ms
2021-11-26 18:27:55.380 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/v1/cliente/?pesquisa= - -
2021-11-26 18:27:55.381 -03:00 [INF] CORS policy execution successful.
2021-11-26 18:27:55.382 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/v1/cliente/?pesquisa= - - - 204 - - 2.5499ms
2021-11-26 18:27:55.386 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/v1/cliente/?pesquisa= - -
2021-11-26 18:27:55.387 -03:00 [INF] CORS policy execution successful.
2021-11-26 18:27:55.388 -03:00 [INF] Successfully validated the token.
2021-11-26 18:27:55.389 -03:00 [INF] Authorization was successful.
2021-11-26 18:27:55.392 -03:00 [INF] Executing endpoint 'UStart.API.Controllers.ClienteController.Get (API)'
2021-11-26 18:27:55.395 -03:00 [INF] Route matched with {action = "Get", controller = "Cliente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get() on controller UStart.API.Controllers.ClienteController (API).
2021-11-26 18:27:55.399 -03:00 [INF] Entity Framework Core 5.0.2 initialized 'UStartContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: MigrationsAssembly=Infrastructure using snake-case naming  (culture=)
2021-11-26 18:27:55.582 -03:00 [INF] Executed DbCommand (171ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.ativo, c.bairro, c.cep, c.cnpj, c.cpf, c.cidade_id, c.cidade_nome, c.codigo_externo, c.complemento, c.email, c.estado_id, c.fone, c.limite_de_credito, c.nome, c.numero, c.razao_social, c.rua
FROM clientes AS c
2021-11-26 18:27:55.589 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[UStart.Domain.Entities.Cliente, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-26 18:27:55.596 -03:00 [INF] Executed action UStart.API.Controllers.ClienteController.Get (API) in 198.2938ms
2021-11-26 18:27:55.598 -03:00 [INF] Executed endpoint 'UStart.API.Controllers.ClienteController.Get (API)'
2021-11-26 18:27:55.599 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/v1/cliente/?pesquisa= - - - 200 - application/json;+charset=utf-8 213.5958ms
2021-11-26 18:28:01.766 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/v1/cliente/3fa85f64-5717-4562-b3fc-2c963f66afa6 - -
2021-11-26 18:28:01.768 -03:00 [INF] CORS policy execution successful.
2021-11-26 18:28:01.769 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/v1/cliente/3fa85f64-5717-4562-b3fc-2c963f66afa6 - - - 204 - - 2.7269ms
2021-11-26 18:28:01.774 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/v1/cliente/3fa85f64-5717-4562-b3fc-2c963f66afa6 - -
2021-11-26 18:28:01.777 -03:00 [INF] CORS policy execution successful.
2021-11-26 18:28:01.780 -03:00 [INF] Successfully validated the token.
2021-11-26 18:28:01.781 -03:00 [INF] Authorization was successful.
2021-11-26 18:28:01.783 -03:00 [INF] Executing endpoint 'UStart.API.Controllers.ClienteController.GetPorId (API)'
2021-11-26 18:28:01.790 -03:00 [INF] Route matched with {action = "GetPorId", controller = "Cliente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetPorId(System.Guid) on controller UStart.API.Controllers.ClienteController (API).
2021-11-26 18:28:01.797 -03:00 [INF] Entity Framework Core 5.0.2 initialized 'UStartContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: MigrationsAssembly=Infrastructure using snake-case naming  (culture=)
2021-11-26 18:28:01.982 -03:00 [INF] Executed DbCommand (173ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.ativo, c.bairro, c.cep, c.cnpj, c.cpf, c.cidade_id, c.cidade_nome, c.codigo_externo, c.complemento, c.email, c.estado_id, c.fone, c.limite_de_credito, c.nome, c.numero, c.razao_social, c.rua
FROM clientes AS c
WHERE c.id = @__id_0
LIMIT 1
2021-11-26 18:28:01.985 -03:00 [INF] Executing OkObjectResult, writing value of type 'UStart.Domain.Entities.Cliente'.
2021-11-26 18:28:01.987 -03:00 [INF] Executed action UStart.API.Controllers.ClienteController.GetPorId (API) in 193.1588ms
2021-11-26 18:28:01.988 -03:00 [INF] Executed endpoint 'UStart.API.Controllers.ClienteController.GetPorId (API)'
2021-11-26 18:28:01.990 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/v1/cliente/3fa85f64-5717-4562-b3fc-2c963f66afa6 - - - 200 - application/json;+charset=utf-8 215.8848ms
2021-11-26 18:28:08.094 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/v1/cliente/?pesquisa= - -
2021-11-26 18:28:08.095 -03:00 [INF] CORS policy execution successful.
2021-11-26 18:28:08.097 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/v1/cliente/?pesquisa= - - - 204 - - 3.4189ms
2021-11-26 18:28:08.100 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/v1/cliente/?pesquisa= - -
2021-11-26 18:28:08.101 -03:00 [INF] CORS policy execution successful.
2021-11-26 18:28:08.102 -03:00 [INF] Successfully validated the token.
2021-11-26 18:28:08.103 -03:00 [INF] Authorization was successful.
2021-11-26 18:28:08.104 -03:00 [INF] Executing endpoint 'UStart.API.Controllers.ClienteController.Get (API)'
2021-11-26 18:28:08.105 -03:00 [INF] Route matched with {action = "Get", controller = "Cliente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get() on controller UStart.API.Controllers.ClienteController (API).
2021-11-26 18:28:08.109 -03:00 [INF] Entity Framework Core 5.0.2 initialized 'UStartContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: MigrationsAssembly=Infrastructure using snake-case naming  (culture=)
2021-11-26 18:28:08.284 -03:00 [INF] Executed DbCommand (172ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.ativo, c.bairro, c.cep, c.cnpj, c.cpf, c.cidade_id, c.cidade_nome, c.codigo_externo, c.complemento, c.email, c.estado_id, c.fone, c.limite_de_credito, c.nome, c.numero, c.razao_social, c.rua
FROM clientes AS c
2021-11-26 18:28:08.287 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[UStart.Domain.Entities.Cliente, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-26 18:28:08.289 -03:00 [INF] Executed action UStart.API.Controllers.ClienteController.Get (API) in 180.6185ms
2021-11-26 18:28:08.291 -03:00 [INF] Executed endpoint 'UStart.API.Controllers.ClienteController.Get (API)'
2021-11-26 18:28:08.293 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/v1/cliente/?pesquisa= - - - 200 - application/json;+charset=utf-8 192.8405ms
2021-11-26 18:28:24.507 -03:00 [INF] Application is shutting down...
